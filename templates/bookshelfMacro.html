{% from "bookCoverMacro.html" import bookCover with context %}

{% macro bookshelf(shelf) %}
    <div class="bookshelf_widget" style="margin: 0 auto;">
        <h2 class="bookshelf-name"> <a href="{{ url_for('get_bookshelf', bookshelf_id=shelf.id)}}">{{ shelf.title }}</a> </h2>
        <div class="pure-g">
            <div class="pure-u-1-3">
                {% if shelf.books | length >= 1 %}
                    {{ bookCover(shelf.books[0].title, 'https://covers.openlibrary.org/b/id/' + shelf.books[0].cover_image_link + '-M.jpg', 'bookshelf') }}
                {% endif %}
            </div>
            <div class="pure-u-1-3">
                {% if shelf.books | length >= 2 %}
                    {{ bookCover(shelf.books[1].title, 'https://covers.openlibrary.org/b/id/' + shelf.books[1].cover_image_link + '-M.jpg', 'bookshelf') }}
                {% endif %}
            </div>
            <div class="pure-u-1-3">
                {% if shelf.books | length >= 3 %}
                    {{ bookCover(shelf.books[2].title, 'https://covers.openlibrary.org/b/id/' + shelf.books[2].cover_image_link + '-M.jpg', 'bookshelf') }}
                {% endif %}
            </div>
        </div>
    </div>
{% endmacro %}